# 要件定義書

## はじめに

ジェスチャーゲームは、ユーザーがカメラの前で与えられたお題に合わせてポーズを取り、複数のAI審査員がそのポーズがお題にどれだけ一致しているかを100点満点で評価するインタラクティブなアプリケーションです。このゲームは、身体活動とAI評価を組み合わせた楽しく魅力的な体験を提供します。

## 要件

### 1. カメラデバイスインターフェース

**ユーザーストーリー:** プレイヤーとして、専用のカメラデバイスを使用してゲームに参加し、正確なポーズ検出を体験したいです。

#### 受け入れ基準

1. ゲームが開始される時、システムは専用カメラデバイスとの接続を確立するものとする。
2. カメラデバイスが接続された時、システムはユーザーにカメラフィードを表示するものとする。
3. カメラデバイスが接続できない時、システムは適切なエラーメッセージと接続手順を表示するものとする。
4. ユーザーがフレーム内にいる時、システムはユーザーのポーズを検出できるものとする。
5. カメラフィードがアクティブな時、システムはスムーズな操作のために最低15FPSのフレームレートを維持するものとする。
6. カメラデバイスで撮影された映像は、HTTPプロトコルを使用してクラウドに送信されるものとする。

### 2. お題/プロンプトシステム

**ユーザーストーリー:** プレイヤーとして、どのポーズを取るべきかを知るために、ゲームマスターから明確なお題を受け取りたいです。

#### 受け入れ基準

1. ゲームマスターがお題を設定する時、システムはプレイヤーに明確なお題/プロンプトを表示するものとする。
2. お題/プロンプトを表示する時、システムはテキストと視覚的な参照（該当する場合）の両方を提供するものとする。
3. お題が表示される時、システムはポーズ評価が始まる前にプレイヤーが読んで理解するのに十分な時間（設定可能、デフォルト5秒）を確保するものとする。
4. ゲームマスターがお題を入力する時、システムはお題が適切で物理的に実行可能であることを確認するためのガイドラインを提供するものとする。
5. ゲームマスターがお題を選択できるように、システムは推奨お題のライブラリを提供するものとする。

### 3. ポーズ検出と評価

**ユーザーストーリー:** プレイヤーとして、公正なスコアを受け取るために、システムが私のポーズを正確に検出し評価することを望みます。

#### 受け入れ基準

1. ユーザーがポーズを取る時、システムは主要な体のポイントと姿勢を検出するものとする。
2. ポーズを評価する時、システムはそれを与えられたお題に対する期待されるポーズと比較するものとする。
3. ポーズが必要な時間（設定可能、デフォルト3秒）保持される時、システムは評価を完了するものとする。
4. ポーズ検出が失敗する時、システムはユーザーが調整するのを助けるフィードバック（例：「カメラから離れてください」）を提供するものとする。
5. 照明条件が悪い時でも、システムは合理的な精度でポーズを検出しようとするものとする。

### 4. AI審査員システム

**ユーザーストーリー:** プレイヤーとして、様々で興味深いフィードバックを得るために、異なる個性を持つ複数のAI審査員に私のポーズを評価してもらいたいです。

#### 受け入れ基準

1. ポーズが評価される時、システムは少なくとも3人の異なるAI審査員を使用してスコアを付けるものとする。
2. 審査員がポーズにスコアを付ける時、各審査員はポーズがお題にどれだけ一致しているかに基づいて0〜100点のスコアを提供するものとする。
3. 審査員がスコアを提供する時、システムは個々のスコアと平均スコアを表示するものとする。
4. 審査員がポーズを評価する時、各審査員はスコアリングとフィードバックに影響を与える独自の個性を持つものとする。
5. 審査員がフィードバックを提供する時、システムは各審査員からのスコアを説明するパーソナライズされたコメントを表示するものとする。

### 5. ユーザーインターフェース

**ユーザーストーリー:** プレイヤーとして、使い方を理解するよりもゲームに集中できるように、直感的で応答性の高いインターフェースが欲しいです。

#### 受け入れ基準

1. ゲームが実行されている時、システムはカメラフィードを目立つように表示するものとする。
2. ゲームラウンドが進行中の時、システムは現在のお題/プロンプト、残り時間、ゲームステータスを明確に表示するものとする。
3. スコアが提供される時、システムはそれらを理解しやすい形式で表示するものとする。
4. システムが処理中の時、システムは評価が進行中であることを示す視覚的なフィードバックを提供するものとする。
5. ゲームが異なるデバイスでプレイされる時、インターフェースは応答性があり、異なる画面サイズに適応するものとする。

### 6. ゲームフロー

**ユーザーストーリー:** プレイヤーとして、ゲームマスターが主導するゲーム体験を楽しめるように、明確なゲーム構造が欲しいです。

#### 受け入れ基準

1. ユーザーがゲームを開始する時、システムは明確な指示を提供するものとする。
2. ゲームセッションが始まる時、システムはゲームマスターにお題設定のインターフェースを提供するものとする。
3. プレイヤーがポーズを取り終えた時、システムはスコアを表示するものとする。
4. ゲームマスターが新しいお題を設定する時、システムは新しいゲームセッションを開始するものとする。
5. ゲームが終了する時、システムは再度プレイするか終了するかのオプションを提供するものとする。
6. 視聴者がゲームを観戦できるように、システムはプレイヤーのパフォーマンスとスコアをリアルタイムで表示するものとする。

### 7. パフォーマンスと技術要件

**ユーザーストーリー:** プレイヤーとして、専用カメラデバイスを使用しながらも、ゲームシステム全体がスムーズに動作することを望みます。

#### 受け入れ基準

1. ゲームのUI部分が実行されている時、システムは特別なプラグインを必要とせずに標準的なWebブラウザで機能するものとする。
2. ポーズを処理する時、システムは合理的な時間枠（5秒以内）で評価を完了するものとする。
3. ゲームが使用中の時、システムはネットワーク中断を適切に処理するものとする。
4. システムがデプロイされる時、複数の同時ユーザーを処理できるものとする。
5. ユーザーデータが処理される時、システムはカメラフィードとユーザー情報のプライバシーとセキュリティを確保するものとする。
6. カメラデバイスからクラウドへのHTTP通信が行われる時、システムは効率的なデータ転送と低遅延を確保するものとする。

### 8. アクセシビリティと国際化

**ユーザーストーリー:** 特定のニーズを持つプレイヤーとして、完全に参加できるように、ゲームがアクセス可能で私の言語で利用できることを望みます。

#### 受け入れ基準

1. ゲームが使用される時、システムは日本語と英語を含む複数の言語をサポートするものとする。
2. テキストが表示される時、システムはアクセシビリティ基準を満たすフォントと色を使用するものとする。
3. 音声フィードバックが提供される時、システムは視覚的な同等物も提供するものとする。
4. ゲームがプレイされる時、システムは難易度レベルを提供することで異なる身体能力に対応するものとする。
5. 指示が提供される時、システムは視覚的な補助を伴う明確でシンプルな言語を使用するものとする。